atk-settings:
    on_startup:
        add_aliases:
            "@" : "project"
            "::" : "project"
        add_variables:
            "JAVA_VERSION" : "blah"


(project):
    name: The ATK Repo
    description: Blah
    
    (using_atk_version): 1.0
    (dependencies):
        (run):
        
        # FOR[gov-production]:
        # FOR[edu-production]:
        # FOR[DEBUGGING]:
        # FOR[PRODUCTION]:
        # FOR[professors]:
        # FOR[students]:
        # FOR[teaching-assistants]:
    
    (for_mac_os): &settings
        (local_package_managers): ['npm']
        (dependencies):
            - node
            - git
        (structures):
            - npm-package
            - vs-code-package
            - git-repo
        (project_commands): &commands
            # auto-insert the !lang/console if they dont put one
            (run): !language/ruby
                puts "hi"
            (stop): \`pkill node`
            (compile): gcc *.cpp
            (test): echo 'yup this test works'
        
        # caveats for a speficic sub-version
        (for_yosemite):
            <<: *settings # this injects all the settings here
            (project_commands):
                <<: *commands
                test: 'this is specific to yosimite'
    
    (for_linux_os):
        <<: *settings # this injects all the settings here
    
    # caveats for a different OS
    (for_windows_os):
        <<: *settings # this injects all the settings here
        (project_commands):
            <<: *commands
            show_files: dir

atk_package:
    unique_name: 'node'
    dependencies: &reference_to_dependencies
        - python
    for_mac_os:
        installer: 'brew install node'
    for_windows_os:
        installer: 'scoop install node'
        dependencies: *reference_to_dependencies
    for_linux_os:
        installer: 'apt install nodejs'
        for_arch:
                installer: 'pacman -S node'